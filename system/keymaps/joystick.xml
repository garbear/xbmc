<?xml version="1.0" encoding="UTF-8"?>
<!-- This file contains the mapping of joystick buttons to actions within    -->
<!-- Kodi.                                                                   -->
<!--                                                                         -->
<!-- The format is:                                                          -->
<!--   <window>                                                              -->
<!--     <joystick profile="game.controller.default">                        -->
<!--       <button>action</button>                                           -->
<!--     </joystick>                                                         -->
<!--   </window>                                                             -->
<!--                                                                         -->
<!-- The <global> section is a fall through - they will only be used if the  -->
<!-- button is not used in the current window's section.                     -->
<!--                                                                         -->
<!-- The "profile" attribute specifies the controller profile whose buttons  -->
<!-- are being mapped. Currently, the default controller profile is used for -->
<!-- every controller. In the future it may be possible to specify mappings  -->
<!-- for the controller profile most similar to the user's physical          -->
<!-- controller.                                                             -->
<!--                                                                         -->
<!-- Actions can be built-in functions.                                      -->
<!--   eg <b>ActivateWindow(Music)</b>                                       -->
<!-- would automatically go to Music on the press of the B button.           -->
<!--                                                                         -->
<!-- Buttons can be overloaded with hold durations, in milliseconds:         -->
<!--   <joystick profile="game.controller.default">                          -->
<!--     <a>Select</a>                                                       -->
<!--     <a holdtime="500">ContextMenu</a>                                   -->
<!--   </joystick>                                                           -->
<!--                                                                         -->
<!-- Buttons can be overloaded with hotkeys:                                 -->
<!--   <joystick profile="game.controller.default">                          -->
<!--     <a>Select</a>                                                       -->
<!--     <a hotkey="back">ContextMenu</a>                                    -->
<!--   </joystick>                                                           -->
<!--                                                                         -->
<!-- It is even possible to combine both hotkeys and hold durations:         -->
<!--   <joystick profile="game.controller.default">                          -->
<!--     <a>Select</a>                                                       -->
<!--     <a hotkey="back">ContextMenu</a>                                    -->
<!--     <a hotkey="back" holdtime="500">Stop</a>                            -->
<!--   </joystick>                                                           -->
<!--                                                                         -->
<!-- Both hold duration and hotkeys can be the only stand alone variant of   -->
<!-- an action:                                                              -->
<!--   <joystick profile="game.controller.default">                          -->
<!--     <a hotkey="back">ContextMenu</a>                                    -->
<!--     <b holdtime="500">Stop</b>                                          -->
<!--   </joystick>                                                           -->
<!--                                                                         -->
<!-- A limitation is that if a single press is mapped in a section, a        -->
<!-- global "holdtime" overload will be ignored. The workaround is to        -->
<!-- duplicate the holdtime overload in the section.                         -->
<!--                                                                         -->
<!-- More documentation on keymaps can be found on                           -->
<!-- http://kodi.wiki/view/keymaps                                           -->
<!--                                                                         -->
<keymap>
  <global>
    <joystick profile="game.controller.default">
      <a>Select</a>
      <a holdtime="1000" hotkey="back">UpdateLibrary(video)</a>
      <b>Back</b>
      <b hotkey="back">ActivateWindow(Home)</b>
      <b holdtime="1000" hotkey="back">CleanLibrary(video)</b>
      <x>ContextMenu</x>
      <x hotkey="back">ToggleWatched</x>
      <y>FullScreen</y>
      <y hotkey="back">ActivateScreensaver</y>
      <start>ActivateWindow(ShutdownMenu)</start>
      <back>noop</back>
      <guide>ActivateWindow(Home)</guide>
      <up>Up</up>
      <down>Down</down>
      <right>Right</right>
      <left>Left</left>
      <leftthumb>noop</leftthumb>
      <rightthumb>noop</rightthumb>
      <lefttrigger>ScrollUp</lefttrigger>
      <righttrigger>ScrollDown</righttrigger>
      <leftbumper>PageUp</leftbumper>
      <leftbumper hotkey="back">Menu</leftbumper>
      <rightbumper>PageDown</rightbumper>
      <leftstick direction="left">Left</leftstick>
      <leftstick direction="right">Right</leftstick>
      <leftstick direction="up">Up</leftstick>
      <leftstick direction="down">Down</leftstick>
      <rightstick direction="left">VolumeDown</rightstick>
      <rightstick direction="right">VolumeUp</rightstick>
      <rightstick direction="up">VolumeUp</rightstick>
      <rightstick direction="down">VolumeDown</rightstick>
    </joystick>
  </global>
  <Home>
    <joystick profile="game.controller.default">
      <b>Back</b>
      <b hotkey="back">ActivateWindow(Home)</b>
      <b holdtime="1000" hotkey="back">CleanLibrary(video)</b>
    </joystick>
  </Home>
  <FullscreenVideo>
    <joystick profile="game.controller.default">
      <a>Pause</a>
      <b>Stop</b>
      <x>OSD</x>
      <y>FullScreen</y>
      <start>Info</start>
      <start hotkey="back">ShowTime</start>
      <back>noop</back>
      <guide>noop</guide>
      <up>ShowSubtitles</up>
      <down>NextSubtitle</down>
      <!-- If we had a PreviousSubtitle I would do this-->
      <!-- 
      <right hotkey="back">NextSubtitle</right>
      <left hotkey="back">PreviousSubtitle</left>
      -->
      <right>ChapterOrBigStepForward</right>
      <left>ChapterOrBigStepBack</left>
      <leftthumb>noop</leftthumb>
      <rightthumb>noop</rightthumb>
      <lefttrigger>AnalogRewind</lefttrigger>
      <righttrigger>AnalogFastForward</righttrigger>
      <leftbumper>Seek(-10)</leftbumper>
      <leftbumper hotkey="back">Seek(-20)</leftbumper>
      <rightbumper>Seek(20)</rightbumper>
      <rightbumper hotkey="back">Seek(40)</rightbumper>
      <leftstick direction="left">AnalogSeekBack</leftstick>
      <leftstick direction="right">AnalogSeekForward</leftstick>
      <leftstick direction="up">noop</leftstick>
      <leftstick direction="down">noop</leftstick>
    </joystick>
  </FullscreenVideo>
  <FullscreenInfo>
    <joystick profile="game.controller.default">
      <b>Close</b>
      <x>OSD</x>
      <start>Close</start>
      <leftbumper>Seek(-10)</leftbumper>
      <leftbumper hotkey="back">Seek(-20)</leftbumper>
      <rightbumper>Seek(20)</rightbumper>
      <rightbumper hotkey="back">Seek(40)</rightbumper>
      <lefttrigger>AnalogRewind</lefttrigger>
      <righttrigger>AnalogFastForward</righttrigger>
    </joystick>
  </FullscreenInfo>
  <VideoOSD>
    <joystick profile="game.controller.default">
      <b>Close</b>
      <x>Close</x>
      <leftbumper>Seek(-10)</leftbumper>
      <leftbumper hotkey="back">Seek(-20)</leftbumper>
      <rightbumper>Seek(20)</rightbumper>
      <rightbumper hotkey="back">Seek(40)</rightbumper>
      <lefttrigger>AnalogRewind</lefttrigger>
      <righttrigger>AnalogFastForward</righttrigger>
    </joystick>
  </VideoOSD>
  <VideoMenu>
    <joystick profile="game.controller.default">
      <b>Stop</b>
      <x>OSD</x>
      <leftbumper hotkey="back">AspectRatio</leftbumper>
      <start>Info</start>
    </joystick>
  </VideoMenu>
  <OSDVideoSettings>
    <joystick profile="game.controller.default">
      <leftbumper hotkey="back">AspectRatio</leftbumper>
      <x>Close</x>
    </joystick>
  </OSDVideoSettings>
  <OSDAudioSettings>
    <joystick profile="game.controller.default">
      <leftbumper hotkey="back">AspectRatio</leftbumper>
      <x>Close</x>
    </joystick>
  </OSDAudioSettings>
</keymap>
